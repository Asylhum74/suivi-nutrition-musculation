<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Suivi nutritif & musculaire</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
body { background: #f4f6f8; color: #333; }
header { background: #1e293b; color: white; padding: 20px; text-align: center; }
.tabs { display: flex; justify-content: center; background: #0f172a; }
.tabs button { flex: 1; padding: 15px; border: none; background: transparent; color: #cbd5f5; cursor: pointer; font-size: 16px; }
.tabs button:hover { background: #1e293b; }
main { max-width: 900px; margin: 30px auto; padding: 20px; }
.tab { display: none; background: white; padding: 25px; border-radius: 10px; box-shadow: 0 10px 20px rgba(0,0,0,0.08); }
.tab.active { display: block; }
h2 { margin-bottom: 20px; color: #1e293b; }
.form { display: grid; gap: 15px; max-width: 400px; }
label { display: flex; justify-content: space-between; align-items: center; }
input { width: 120px; padding: 6px; }
button#saveProfile { padding: 10px; background: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer; }
button#saveProfile:hover { background: #1d4ed8; }
#profileSummary { margin-top: 25px; background: #f1f5f9; padding: 15px; border-radius: 8px; }
.list { list-style: none; display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; margin-top: 20px; }
.card { background: #ffffff; border-radius: 12px; padding: 16px; box-shadow: 0 8px 16px rgba(0,0,0,0.08); transition: transform 0.2s ease, box-shadow 0.2s ease; cursor: pointer; }
.card strong { color: #0f172a; font-size: 16px; }
.card small { display: block; margin-top: 6px; color: #475569; }
.card:hover { transform: translateY(-4px); box-shadow: 0 14px 24px rgba(0,0,0,0.12); }
.filter { margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
.filter select { padding: 6px; border-radius: 6px; border: 1px solid #cbd5f5; }
#exerciseDetail { margin-top: 20px; background: #f1f5f9; padding: 15px; border-radius: 8px; display: none; }
#exerciseDetail img { max-width: 100%; border-radius: 8px; margin-bottom: 10px; }
#exerciseDetail h3 { margin-bottom: 10px; }
#exerciseDetail p { margin-bottom: 8px; }
#programForm { margin-top: 20px; padding: 15px; background: #f8fafc; border-radius: 8px; }
#programList { margin-top: 15px; list-style: none; padding-left: 0; }
#programList li { background: white; margin-bottom: 8px; padding: 10px; border-radius: 6px; box-shadow: 0 4px 8px rgba(0,0,0,0.06); display: flex; justify-content: space-between; align-items: center; }
input.repInput { width: 50px; margin-left: 5px; }
button.addProgram { margin-top: 10px; padding: 8px 12px; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer; }
button.addProgram:hover { background: #059669; }
button.removeExo { padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; }
button.removeExo:hover { background: #b91c1c; }
</style>
</head>
<body>
<header>
<h1>Suivi nutritif & musculaire</h1>
</header>
<nav class="tabs">
<button data-tab="dashboard">Profil</button>
<button data-tab="training">Musculation</button>
<button data-tab="nutrition">Nutrition</button>
</nav>
<main>
<section id="dashboard" class="tab active">
<h2>Profil utilisateur</h2>
<div class="form">
<label>Âge <input type="number" id="age"></label>
<label>Taille (cm) <input type="number" id="taille"></label>
<label>Poids (kg) <input type="number" id="poids"></label>
<button id="saveProfile">Enregistrer</button>
</div>
<div id="profileSummary"></div>
</section>
<section id="training" class="tab">
<h2>Base d'exercices</h2>
<div class="filter">
<select id="filterMuscle"><option value="all">Tous les muscles</option></select>
<select id="filterGoal"><option value="all">Tous les objectifs</option></select>
</div>
<ul id="exerciseList" class="list"></ul>
<div id="exerciseDetail"></div>
<div id="programForm">
<h3>Créer votre programme</h3>
<ul id="programList"></ul>
<button class="addProgram" id="saveProgram">Sauvegarder programme</button>
</div>
</section>
<section id="nutrition" class="tab">
<h2>Aliments</h2>
<ul id="foodList" class="list"></ul>
</section>
</main>
<script>
document.querySelectorAll('.tabs button').forEach(btn => {
btn.addEventListener('click', () => {
document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
document.getElementById(btn.dataset.tab).classList.add('active');
});
});

const ageInput = document.getElementById('age');
const tailleInput = document.getElementById('taille');
const poidsInput = document.getElementById('poids');
const summary = document.getElementById('profileSummary');
function loadProfile() {
const data = JSON.parse(localStorage.getItem('profile'));
if (!data) return;
ageInput.value = data.age;
tailleInput.value = data.taille;
poidsInput.value = data.poids;
renderProfile(data);
}
function renderProfile(data) {
summary.innerHTML=`<p>Âge : <strong>${data.age}</strong> ans</p><p>Taille : <strong>${data.taille}</strong> cm</p><p>Poids : <strong>${data.poids}</strong> kg</p>`;
}
document.getElementById('saveProfile').addEventListener('click',()=>{
const profile={age:ageInput.value,taille:tailleInput.value,poids:poidsInput.value};
localStorage.setItem('profile',JSON.stringify(profile));
renderProfile(profile);
});
loadProfile();

const exercises=[
{name:'Développé couché',muscle:'Pectoraux',goal:'Force / Hypertrophie',desc:'Allongez-vous sur le banc, prenez la barre, abaissez-la lentement sur votre poitrine et poussez.',img:'https://via.placeholder.com/300x150'},
{name:'Squat',muscle:'Jambes',goal:'Force globale',desc:'Tenez la barre sur vos épaules, fléchissez les genoux jusqu’à 90°, puis remontez.',img:'https://via.placeholder.com/300x150'},
{name:'Soulevé de terre',muscle:'Dos / Jambes',goal:'Force',desc:'Pieds à largeur d’épaules, saisissez la barre, dos droit, remontez en extension complète.',img:'https://via.placeholder.com/300x150'},
{name:'Tractions',muscle:'Dos',goal:'Hypertrophie',desc:'Suspendez-vous à la barre, tirez le menton au-dessus, redescendez lentement.',img:'https://via.placeholder.com/300x150'},
{name:'Développé militaire',muscle:'Épaules',goal:'Force',desc:'Debout, barre devant épaules, poussez vers le haut jusqu’à extension complète.',img:'https://via.placeholder.com/300x150'},
{name:'Curl biceps',muscle:'Biceps',goal:'Isolation',desc:'Tenez les haltères, fléchissez les coudes et contractez les biceps.',img:'https://via.placeholder.com/300x150'}
];

const exerciseList=document.getElementById('exerciseList');
const filterMuscle=document.getElementById('filterMuscle');
const filterGoal=document.getElementById('filterGoal');
const exerciseDetail=document.getElementById('exerciseDetail');
const programList=document.getElementById('programList');
const saveProgram=document.getElementById('saveProgram');
const muscles=[...new Set(exercises.map(e=>e.muscle))];
muscles.forEach(m=>filterMuscle.innerHTML+=`<option value='${m}'>${m}</option>`);
const goals=[...new Set(exercises.map(e=>e.goal))];
goals.forEach(g=>filterGoal.innerHTML+=`<option value='${g}'>${g}</option>`);

let selectedProgram=[];

// Charger le programme sauvegardé
function loadProgram() {
const saved=JSON.parse(localStorage.getItem('myProgram'));
if(!saved) return;
selectedProgram=saved;
programList.innerHTML='';
selectedProgram.forEach(item=>{
const li=document.createElement('li');
li.innerHTML=`${item.name} - Séries: <input type='number' class='repInput' value='${item.sets}'> Reps: <input type='number' class='repInput' value='${item.reps}'><button class='removeExo'>Supprimer</button>`;
li.querySelector('.removeExo').addEventListener('click',()=>{
selectedProgram=selectedProgram.filter(e=>e!==item);
li.remove();
});
programList.appendChild(li);
});
}
loadProgram();

function renderExercises(){
exerciseList.innerHTML='';
const selectedMuscle=filterMuscle.value;
const selectedGoal=filterGoal.value;
exercises.filter(exo=>(selectedMuscle==='all'||exo.muscle===selectedMuscle)&&(selectedGoal==='all'||exo.goal===selectedGoal)).forEach(exo=>{
const li=document.createElement('li');
li.innerHTML=`<strong>${exo.name}</strong><br><small>${exo.muscle} — ${exo.goal}</small>`;
li.classList.add('card');
li.addEventListener('click',()=>showExerciseDetail(exo));
exerciseList.appendChild(li);
});
}

function showExerciseDetail(exo){
exerciseDetail.style.display='block';
exerciseDetail.innerHTML=`<h3>${exo.name}</h3><img src='${exo.img}' alt='${exo.name}'><p><strong>Muscle :</strong> ${exo.muscle}</p><p><strong>Objectif :</strong> ${exo.goal}</p><p><strong>Description :</strong> ${exo.desc}</p><button class='addProgram' onclick='addToProgram("${exo.name}")'>Ajouter au programme</button>`;
}

function addToProgram(name){
if(!selectedProgram.find(e=>e.name===name)){
selectedProgram.push({name, sets:3, reps:10}); // valeurs par défaut
const li=document.createElement('li');
li.innerHTML=`${name} - Séries: <input type='number' class='repInput' value='3'> Reps: <input type='number' class='repInput' value='10'><button class='removeExo'>Supprimer</button>`;
li.querySelector('.removeExo').addEventListener('click',()=>{
selectedProgram=selectedProgram.filter(e=>e.name!==name);
li.remove();
});
programList.appendChild(li);
}
}

saveProgram.addEventListener('click',()=>{
// Met à jour les valeurs de sets/reps avant de sauvegarder
document.querySelectorAll('#programList li').forEach((li,i)=>{
selectedProgram[i].sets=parseInt(li.querySelectorAll('input')[0].value);
selectedProgram[i].reps=parseInt(li.querySelectorAll('input')[1].value);
});
localStorage.setItem('myProgram',JSON.stringify(selectedProgram));
alert('Programme sauvegardé !');
});

filterMuscle.addEventListener('change',renderExercises);
filterGoal.addEventListener('change',renderExercises);
renderExercises();
</script>
</body>
</html>
